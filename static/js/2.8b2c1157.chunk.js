(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{222:function(e,t,a){"use strict";var n=a(368),r=a.n(n);t.a=r.a.create({baseURL:"https://address-book-exp-api.herokuapp.com"})},236:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(435);t.a=function(e){return r.a.createElement(c.a,Object.assign({height:75,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),r.a.createElement("rect",{x:"75",y:"45",rx:"4",ry:"4",width:"117",height:"6.4"}),r.a.createElement("rect",{x:"75",y:"35",rx:"3",ry:"3",width:"85",height:"6.4"}),r.a.createElement("circle",{cx:"37",cy:"40",r:"35"}))}},366:function(e,t,a){},624:function(e,t,a){"use strict";a.r(t);var n=a(620),r=a(170),c=a(217),i=a.n(c),l=a(218),s=a(219),o=a(220),u=a(292),d=a(221),m=a(293),f=a(1),h=a.n(f),p=(a(366),a(222)),g=a(145),b=a.n(g),v=a(5),E=a(172),O=a.n(E),y=a(177),j=a.n(y),x=a(434),w=a.n(x),k=a(433),S=a.n(k),C=a(426),D=a.n(C),N=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.tab,n=e.handleChange;return h.a.createElement(b.a,{square:!0,className:t.root},h.a.createElement(O.a,{value:a,onChange:n,fullWidth:!0,indicatorColor:"secondary",textColor:"secondary"},h.a.createElement(j.a,{icon:h.a.createElement(D.a,null),label:"PHONE BOOK"}),h.a.createElement(j.a,{icon:h.a.createElement(S.a,null),label:"FAVORITES"}),h.a.createElement(j.a,{icon:h.a.createElement(w.a,null),label:"ADD CONTACT"})),this.props.children)}}]),t}(h.a.Component),U=Object(v.withStyles)(function(){return{root:{maxWidth:500,flex:1}}})(N),M=a(119),F=a(236),T=a(196),A=a.n(T),L=a(251),P=a.n(L),R=a(252),z=a.n(R),B=Object(f.lazy)(function(){return a.e(0).then(a.bind(null,619))}),V=Object(v.withStyles)(function(e){return{content:{marginTop:e.spacing.unit,marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},lisetText:{textTransform:"capitalize",fontSize:18},avatar:{width:80,height:80,borderRadius:50},loader:{marginTop:10,marginLeft:2*e.spacing.unit},avatarItem:{width:80,height:80}}})(function(e){var t=e.users,a=e.classes,n=e.loading,c=(e.loadingMore,e.addStar);return h.a.createElement(M.d,{dense:!0},n?Array.from(Array(1).keys()).map(function(e,t){return h.a.createElement(F.a,{className:a.loader,key:e})}):t.map(function(e,t){return h.a.createElement(M.e,{key:e.id+t,button:!0,className:a.content},h.a.createElement("span",null," ",t+1," "),h.a.createElement(f.Suspense,{fallback:h.a.createElement(M.c,{in:!0},h.a.createElement(A.a,{className:a.avatarItem}))},h.a.createElement(B,{classes:a,user:e})),h.a.createElement(M.c,{in:!0},h.a.createElement(M.g,{primary:e.name,className:a.lisetText})),h.a.createElement(M.f,null,e.favorite?h.a.createElement(M.b,null,h.a.createElement(P.a,{onClick:function(){return c(Object(r.a)({},e,{favorite:!e.favorite}))}})):h.a.createElement(M.b,null,h.a.createElement(z.a,{onClick:function(){return c(Object(r.a)({},e,{favorite:!e.favorite}))}}))))}))}),W=a(197),H=a.n(W),I=a(198),J=a.n(I),q=a(200),K=a.n(q),_=a(199),G=a.n(_),Q=a(178),X=a.n(Q),Y=a(158),Z=a.n(Y),$=a(476),ee=a.n($),te=a(481),ae=a.n(te);var ne=Object(v.withStyles)(function(e){return{card:{maxWidth:345,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,marginBottom:e.spacing.unit},media:{height:140},container:{display:"flex",justifyContent:"center"},column:{display:"flex",justifyContent:"center",flexDirection:"column"},buttonBack:{marginLeft:4*e.spacing.unit,marginTop:2*e.spacing.unit},item:{maxWidth:345},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}})(function(e){var t=e.classes,a=e.handleDetail,n=e.handleUpdateUser,c=e.detail,i=c.user,l=i.image_url,s=i.name,o=i.phone,u=i.address,d=c.status,m=c.edit,f=c.user;return h.a.createElement("div",null,h.a.createElement(ee.a,{onClick:function(){return a({status:!d})},className:t.buttonBack}),h.a.createElement("div",{className:t.container},h.a.createElement(H.a,{className:t.card},h.a.createElement(J.a,null,h.a.createElement(G.a,{className:t.media,image:l,title:s})),h.a.createElement(K.a,null,h.a.createElement(ae.a,{onClick:function(){return a({edit:!m})}}),m?h.a.createElement("div",{className:t.column},h.a.createElement(M.h,{id:"outlined-email-input",label:"Name",className:t.textField,type:"text",name:"name",margin:"normal",variant:"outlined",defaultValue:s,onChange:function(e){return a({user:Object(r.a)({},f,{name:e.target.value})})},autoFocus:!0}),h.a.createElement(M.h,{id:"outlined-email-input",label:"Phone",className:t.textField,type:"number",name:"phone",margin:"normal",variant:"outlined",onChange:function(e){return a({user:Object(r.a)({},f,{phone:e.target.value})})},defaultValue:o}),h.a.createElement(M.h,{id:"outlined-email-input",label:"Addresss",className:t.textField,type:"text",name:"address",margin:"normal",variant:"outlined",onChange:function(e){return a({user:Object(r.a)({},f,{address:e.target.value})})},defaultValue:u}),h.a.createElement(X.a,{variant:"outlined",color:"primary",onClick:function(){return n(),void a({edit:!m})}},"Save")):h.a.createElement("div",{className:t.item},h.a.createElement(Z.a,{gutterBottom:!0,variant:"h5",component:"h2"},s," - ",o),h.a.createElement(Z.a,{component:"p"},u))))))}),re=Object(f.lazy)(function(){return Promise.all([a.e(5),a.e(3)]).then(a.bind(null,622))}),ce=Object(f.lazy)(function(){return a.e(4).then(a.bind(null,623))}),ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var c=arguments.length,o=new Array(c),m=0;m<c;m++)o[m]=arguments[m];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={loading:!1,data:[],favorite:[],tab:0,loadingMore:!1,page:1,morePage:!0,detail:{status:!1,user:{},edit:!1}},a.detectScroll=function(){document.onscroll=function(e){if(window.innerHeight+document.documentElement.scrollTop>=document.body.offsetHeight){if(a.setState(function(e){return{page:e.page+1}}),!1===a.state.morePage)return;1!==a.state.page&&a.fetchMoreData()}}},a.fetchData=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),e.next=3,p.a.get("/users/1");case 3:t=e.sent,n=t.data,a.setState({data:n,loading:!1,page:1,morePage:!0});case 6:case"end":return e.stop()}},e,this)})),a.fetchFavorite=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/users");case 2:t=e.sent,n=t.data,a.setState({favorite:n.filter(function(e){return!0===e.favorite})});case 5:case"end":return e.stop()}},e,this)})),a.fetchMoreData=Object(l.a)(i.a.mark(function e(){var t,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({loadingMore:!0}),e.next=3,p.a.get("/users?page=".concat(a.state.page));case 3:if(t=e.sent,(c=t.data).count===a.state.data.data.length){e.next=8;break}return a.setState(function(e){return{data:Object(r.a)({},e.data,{data:Object(n.a)(e.data.data).concat(Object(n.a)(c.data))}),page:e.data.data.length%6===0?e.page:c.pages,loadingMore:!1}}),e.abrupt("return");case 8:a.setState(function(e){return{loadingMore:!1,page:1===c.pages?1:c.pages-1,morePage:!1}});case 9:case"end":return e.stop()}},e,this)})),a.addUser=function(e){a.setState(function(t){return{data:Object(r.a)({},t.data,{data:Object(n.a)(t.data.data).concat([e])})}})},a.handleChange=function(e,t){a.setState({tab:t})},a.handleDetail=function(e){a.setState(function(t){return{detail:Object(r.a)({},t.detail,e)}})},a.handleUpdateUser=Object(l.a)(i.a.mark(function e(){var t,n,r,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.detail.user,n=t.id,r=t.name,c=t.address,l=t.phone,e.next=3,p.a.patch("/users/".concat(n),{address:c,name:r,phone:l});case 3:a.fetchFavorite(),a.fetchData();case 5:case"end":return e.stop()}},e,this)})),a.addStar=function(){var e=Object(l.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.patch("/users/".concat(t.id),t);case 2:a.fetchFavorite(),a.fetchData();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.deleteUser=function(){var e=Object(l.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete("/users/".concat(t));case 2:n=e.sent,r=n.data,console.log(r),a.fetchFavorite(),a.fetchData();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.renderContent=function(e){switch(e){case 1:return h.a.createElement(V,{users:a.state.favorite,loading:a.state.loading,loadingMore:a.state.loadingMore,addStar:a.addStar});case 2:return h.a.createElement(re,{fetchData:a.fetchData,addUser:a.addUser});default:return a.state.detail.status?h.a.createElement(ne,{handleDetail:a.handleDetail,detail:a.state.detail,handleUpdateUser:a.handleUpdateUser}):h.a.createElement(ce,{users:a.state.data,loading:a.state.loading,loadingMore:a.state.loadingMore,addStar:a.addStar,handleDetail:a.handleDetail,detail:a.state.detail,handleDelete:a.deleteUser})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchFavorite(),this.fetchData(),this.detectScroll()}},{key:"render",value:function(){return h.a.createElement(U,{handleChange:this.handleChange,tab:this.state.tab},h.a.createElement(f.Suspense,{fallback:h.a.createElement("div",null,"Loading....")},this.renderContent(this.state.tab)))}}]),t}(f.Component);t.default=ie}}]);
//# sourceMappingURL=2.8b2c1157.chunk.js.map